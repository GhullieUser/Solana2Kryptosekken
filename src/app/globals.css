/* --- Tailwind v4 --- */
@import "tailwindcss";
@plugin "@tailwindcss/forms";

/* ðŸ‘‡ Make `dark:` use the .dark class on <html> (class-based dark mode in v4) */
@custom-variant dark (&:where(.dark &));

/* ================= Theme tokens ================= */
:root {
	--bg: #f8fafc; /* slate-50 */
	--fg: #0f172a; /* slate-900 */
	--muted: #475569; /* slate-600 */
	--ring: #cbd5e1; /* slate-300 */
	--card: #ffffff;
	--surface: #ffffff;

	/* Scrollbar (light) */
	--sb-track: #f8fafc; /* slate-50 */
	--sb-thumb: #cbd5e1; /* slate-300 */
	--sb-thumb-hover: #94a3b8; /* slate-400 */
	--sb-corner: transparent;
}

/* Dark tokens applied when <html class="dark"> is present */
html.dark {
	color-scheme: dark;

	--bg: #0b1220;
	--fg: #e5e7eb; /* slate-200 */
	--muted: #94a3b8; /* slate-400 */
	--ring: #1f2937; /* slate-800 */
	--card: #0e1729;
	--surface: #0e1729;

	/* Scrollbar (dark) */
	--sb-track: #0b1220;
	--sb-thumb: #475569;
	--sb-thumb-hover: #64748b;
	--sb-corner: transparent;
}

/* ================= Base layout ================= */
html,
body {
	margin: 0;
	max-width: 100vw;
	overflow-x: hidden;
	color: var(--fg);
	background: var(--bg);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Global page backdrop (matches scanner gradient) */
body {
	background: linear-gradient(to bottom right, #eef2ff 0%, #ffffff 50%, #ecfdf5 100%);
	color: var(--fg);
}

html.dark body {
	background: linear-gradient(to bottom right, #0f172a 0%, #1e293b 50%, #0f172a 100%);
}

/* Box sizing */
*,
::before,
::after {
	box-sizing: border-box;
}

a {
	color: inherit;
	text-decoration: none;
}

/* Selection tint */
::selection {
	background: rgba(99, 102, 241, 0.28);
	color: inherit;
}
html.dark ::selection {
	background: rgba(99, 102, 241, 0.35);
}

/* ===== Scrollbars: theme-aware ===== */

/* Firefox */
html,
body,
.nice-scroll,
* {
	scrollbar-width: thin;
	scrollbar-color: var(--sb-thumb) transparent;
}

/* WebKit (Chrome/Safari/Edge) */
html::-webkit-scrollbar,
body::-webkit-scrollbar,
.nice-scroll::-webkit-scrollbar,
*::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

html::-webkit-scrollbar-track,
body::-webkit-scrollbar-track,
.nice-scroll::-webkit-scrollbar-track,
*::-webkit-scrollbar-track {
	background: transparent;
}

html::-webkit-scrollbar-thumb,
body::-webkit-scrollbar-thumb,
.nice-scroll::-webkit-scrollbar-thumb,
*::-webkit-scrollbar-thumb {
	background-color: var(--sb-thumb);
	border-radius: 9999px;
	border: 0;
}

html::-webkit-scrollbar-thumb:hover,
body::-webkit-scrollbar-thumb:hover,
.nice-scroll::-webkit-scrollbar-thumb:hover,
*::-webkit-scrollbar-thumb:hover {
	background-color: var(--sb-thumb-hover);
}

html::-webkit-scrollbar-corner,
body::-webkit-scrollbar-corner,
.nice-scroll::-webkit-scrollbar-corner,
*::-webkit-scrollbar-corner {
	background: transparent;
}

html::-webkit-scrollbar-button,
body::-webkit-scrollbar-button,
.nice-scroll::-webkit-scrollbar-button,
*::-webkit-scrollbar-button {
	display: none;
	width: 0;
	height: 0;
}

/* ================= Small tweaks ================= */
button {
	cursor: pointer;
}
button:disabled {
	cursor: not-allowed;
}

/* Hide native number input spinners (they don't match our design and are hard to style) */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
	-webkit-appearance: none;
	margin: 0;
}
input[type="number"] {
	-moz-appearance: textfield;
	appearance: textfield;
}

/* Unified native form fields across the app */
@layer base {
	input:not([type="checkbox"]):not([type="radio"]):not([type="range"]):not(
			[type="color"]
		):not([type="file"]):not([type="hidden"]):not([type="submit"]):not(
			[type="button"]
		):not([type="reset"]),
	select,
	textarea {
		background-color: #ffffff !important;
		border-color: #e2e8f0 !important;
		color: #0f172a;
	}

	input:not([type="checkbox"]):not([type="radio"]):not([type="range"]):not(
			[type="color"]
		):not([type="file"]):not([type="hidden"]):not([type="submit"]):not(
			[type="button"]
		):not([type="reset"])::placeholder,
	textarea::placeholder {
		color: #64748b !important;
	}

	html.dark
		input:not([type="checkbox"]):not([type="radio"]):not([type="range"]):not(
			[type="color"]
		):not([type="file"]):not([type="hidden"]):not([type="submit"]):not(
			[type="button"]
		):not([type="reset"]),
	html.dark select,
	html.dark textarea {
		background-color: #1f2937 !important;
		border-color: rgba(255, 255, 255, 0.1) !important;
		color: #e2e8f0;
	}

	html.dark
		input:not([type="checkbox"]):not([type="radio"]):not([type="range"]):not(
			[type="color"]
		):not([type="file"]):not([type="hidden"]):not([type="submit"]):not(
			[type="button"]
		):not([type="reset"])::placeholder,
	html.dark textarea::placeholder {
		color: #94a3b8 !important;
	}
}

/* Optional helper if you ever want CSS-only surface */
.card-surface {
	background: var(--surface);
	border: 1px solid var(--ring);
	border-radius: 1.5rem;
}

/* Nice focus when not using Tailwind ring utilities */
:focus-visible {
	outline: 2px solid rgba(99, 102, 241, 0.5);
	outline-offset: 2px;
}
html.dark :focus-visible {
	outline-color: rgba(99, 102, 241, 0.45);
}

/* ================= Header border ================= */
.s2ks-header::after {
	content: "";
	position: absolute;
	left: 0;
	right: 0;
	bottom: 0;
	height: 1px;
	background: rgba(226, 232, 240, 0.7);
	opacity: 0;
	transition: opacity 200ms ease;
	pointer-events: none;
}

html.dark .s2ks-header::after {
	background: rgba(255, 255, 255, 0.1);
}

.s2ks-header[data-scrolled="true"]::after {
	opacity: 1;
}

.s2ks-dropdown-slide {
	animation: s2ks-dropdown-slide 180ms ease-out;
	transform-origin: top center;
	will-change: transform, opacity;
}

@keyframes s2ks-dropdown-slide {
	from {
		opacity: 0;
		transform: translateY(-8px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@media (prefers-reduced-motion: reduce) {
	.s2ks-dropdown-slide {
		animation: none;
	}
}

.s2ks-footer {
	position: relative;
}

.s2ks-footer::before {
	content: "";
	position: absolute;
	left: 0;
	right: 0;
	top: 0;
	height: 1px;
	background: rgba(226, 232, 240, 0.7);
	pointer-events: none;
}

html.dark .s2ks-footer::before {
	background: rgba(255, 255, 255, 0.1);
}

/* ================= Hero logo glow ================= */
.s2ks-glow {
	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	--cube-size: 120px;
	width: var(--cube-size);
	height: var(--cube-size);
	--flip-depth: calc(var(--cube-size) / 2);
	perspective: calc(var(--cube-size) * 6);
	transform-style: preserve-3d;
}

@media (min-width: 640px) {
	.s2ks-glow {
		--cube-size: 216px;
	}
}

.s2ks-face-media {
	width: 80%;
	height: 80%;
	display: block;
}

@media (min-width: 640px) {
	.s2ks-face-media {
		width: 84%;
		height: 84%;
	}
}

.s2ks-glow::before,
.s2ks-glow::after {
	content: "";
	position: absolute;
	inset: -45%;
	border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
	background:
		radial-gradient(
			ellipse 80% 120% at 20% 40%,
			rgba(99, 102, 241, 0.5) 0%,
			transparent 50%
		),
		radial-gradient(
			ellipse 140% 70% at 80% 30%,
			rgba(14, 165, 233, 0.35) 0%,
			transparent 60%
		),
		radial-gradient(
			ellipse 90% 100% at 50% 80%,
			rgba(16, 185, 129, 0.4) 0%,
			transparent 55%
		);
	filter: blur(45px) saturate(1.3);
	opacity: 0.35;
	animation:
		s2ks-pulse 8s ease-in-out infinite,
		s2ks-rotate 20s linear infinite,
		s2ks-morph 10s ease-in-out infinite;
	transform-origin: 40% 60%;
	pointer-events: none;
	will-change: transform, opacity, border-radius;
	z-index: 0;
}

.s2ks-glow::after {
	inset: -65%;
	border-radius: 70% 30% 30% 70% / 60% 70% 30% 40%;
	background:
		radial-gradient(
			ellipse 110% 85% at 70% 60%,
			rgba(16, 185, 129, 0.4) 0%,
			transparent 45%
		),
		radial-gradient(
			ellipse 75% 130% at 30% 20%,
			rgba(99, 102, 241, 0.3) 0%,
			transparent 55%
		),
		radial-gradient(
			circle at 90% 80%,
			rgba(14, 165, 233, 0.25) 0%,
			transparent 40%
		);
	filter: blur(55px) saturate(1.2);
	opacity: 0.28;
	animation-delay: -3.5s;
	animation-duration: 11s, 25s, 13s;
	transform-origin: 60% 40%;
}

.s2ks-glow > * {
	position: relative;
	z-index: 1;
}

@keyframes s2ks-pulse {
	0%,
	100% {
		transform: scale(1);
		opacity: 0.7;
	}
	50% {
		transform: scale(1.07);
		opacity: 0.95;
	}
}

@keyframes s2ks-rotate {
	0% {
		transform: rotate(0deg);
	}
	100% {
		transform: rotate(360deg);
	}
}

@keyframes s2ks-morph {
	0% {
		border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
		transform: scale(1) rotate(0deg);
	}
	20% {
		border-radius: 70% 30% 50% 50% / 60% 40% 60% 40%;
		transform: scale(1.15) rotate(72deg);
	}
	40% {
		border-radius: 50% 50% 30% 70% / 70% 30% 70% 30%;
		transform: scale(0.95) rotate(144deg);
	}
	60% {
		border-radius: 40% 60% 70% 30% / 50% 70% 30% 50%;
		transform: scale(1.08) rotate(216deg);
	}
	80% {
		border-radius: 65% 35% 45% 55% / 35% 65% 35% 65%;
		transform: scale(1.02) rotate(288deg);
	}
	100% {
		border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
		transform: scale(1) rotate(360deg);
	}
}

/* Logo flip to tool icon */
.s2ks-flip {
	position: relative;
	display: flex;
	align-items: center;
	justify-content: center;
	width: 100%;
	height: 100%;
	transform-style: preserve-3d;
	animation: s2ks-flip 14s ease-in-out infinite;
	overflow: visible;
}

.s2ks-face {
	position: absolute;
	inset: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	backface-visibility: hidden;
	transform: none;
	background: rgba(255, 255, 255, 0.08);
	border-radius: 0;
	outline: 1px solid rgba(255, 255, 255, 0.16);
	outline-offset: -1px;
	box-shadow: 0 10px 24px rgba(15, 23, 42, 0.14);
}

.s2ks-face.face-1 {
	transform: rotateY(0deg) translateZ(var(--flip-depth));
}

.s2ks-face.face-2 {
	transform: rotateY(90deg) translateZ(var(--flip-depth));
}

.s2ks-face.face-3 {
	transform: rotateY(180deg) translateZ(var(--flip-depth));
}

.s2ks-face.face-4 {
	transform: rotateY(270deg) translateZ(var(--flip-depth));
}

@keyframes s2ks-flip {
	0%,
	17% {
		transform: rotateY(0deg);
	}
	25% {
		transform: rotateY(90deg);
	}
	25%,
	42% {
		transform: rotateY(90deg);
	}
	50% {
		transform: rotateY(180deg);
	}
	50%,
	67% {
		transform: rotateY(180deg);
	}
	75% {
		transform: rotateY(270deg);
	}
	75%,
	92% {
		transform: rotateY(270deg);
	}
	100% {
		transform: rotateY(360deg);
	}
}
@keyframes float {
	0%,
	100% {
		transform: translateY(0px);
	}
	50% {
		transform: translateY(-8px);
	}
}
